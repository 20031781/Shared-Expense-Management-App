export type Language = 'en' | 'it';

export const translations = {
    en: {
        common: {
            ok: 'OK',
            cancel: 'Cancel',
            close: 'Close',
            confirm: 'Confirm',
            error: 'Error',
            success: 'Success',
            genericError: 'Something went wrong. Please try again.',
            pullToRefresh: 'Pull to refresh',
            settings: 'Settings',
            language: 'Language',
            comingSoon: 'Coming soon',
            retry: 'Retry',
        },
        navigation: {
            lists: 'Lists',
            analytics: 'Insights',
            settings: 'Settings',
        },
        lists: {
            myLists: 'My Lists',
            createList: 'Create List',
            details: 'List Details',
            createListTitle: 'Create a new list',
            createListSubtitle: 'Give your expense list a friendly name.',
            nameLabel: 'List name',
            namePlaceholder: 'e.g., Weekend Trip, Apartment, etc.',
            nameRequired: 'List name is required',
            createSuccess: 'List created successfully',
            createError: 'Failed to create the list. Please try again.',
            expensesTab: ({count}: { count: number }) => `Expenses (${count})`,
            membersTab: ({count}: { count: number }) => `Members (${count})`,
            invite: 'Share Invite',
            inviteDescription: ({code}: { code: string }) => `Share this code with others to join: ${code}`,
            emptyExpenses: 'No expenses yet',
            emptyMembers: 'No members yet',
            addExpense: 'Add Expense',
            addMember: 'Add Member',
            summaryTitle: 'Expense summary',
            totalSpent: 'Total spent',
            perMember: 'Spent per member',
            filterLabel: 'Timeframe',
            filterAll: 'All',
            filter7: '7d',
            filter30: '30d',
            filter90: '90d',
            chartEmpty: 'Add expenses to unlock the chart.',
            emptyTitle: 'No lists yet',
            emptySubtitle: 'Create your first list or join an existing one',
            onboardingTitle: 'Kick-start your space',
            onboardingSubtitle: 'Complete the smart checklist below to invite everyone and track the first expense.',
            onboardingHelper: 'Every action unlocks the next suggestion automatically.',
            onboardingStepCreateTitle: 'Create your first list',
            onboardingStepCreateDescription: 'Give a name to the group that will share expenses.',
            onboardingStepCreateAction: 'Create a list',
            onboardingStepInviteTitle: 'Invite members',
            onboardingStepInviteDescription: 'Share the invite link or code with the people who will join.',
            onboardingStepInviteAction: 'Open invites',
            onboardingStepInviteHint: 'This step unlocks after creating a list.',
            onboardingStepExpenseTitle: 'Add the first expense',
            onboardingStepExpenseDescription: 'Record a payment to populate insights and balances automatically.',
            onboardingStepExpenseAction: 'Add an expense',
            onboardingStepExpenseHint: 'Requires an active list.',
            deleteTitle: 'Delete List',
            deleteBody: ({name}: { name: string }) => `Are you sure you want to delete "${name}"?`,
            deleteSuccess: 'List deleted successfully',
            deleteError: 'Unable to delete the list. Please try again.',
            joinTitle: 'Join a list',
            joinDescription: 'Enter the invite code you received to join instantly.',
            joinPlaceholder: 'Invite code (e.g. ABC123)',
            joinHelper: 'Codes are not case-sensitive.',
            joinSubmit: 'Join list',
            joinSuccess: 'Invite accepted! You now have access to the list.',
            joinError: 'Unable to join the list. Double check the code and try again.',
            acceptSuccess: 'Invite accepted! You now have access to the list.',
            acceptError: 'Unable to accept the invite. Ask the admin to resend the link.',
            joinCodeRequired: 'Invite code is required.',
            inviteShareError: 'Unable to open WhatsApp. Copy the invite code manually.',
            inviteFallbackTitle: 'Share this code',
            inviteFallbackBody: ({code}: { code: string }) => `Share this code on WhatsApp: ${code}`,
            splitSectionTitle: 'Expense split',
            splitSectionEmpty: 'No expenses to split yet.',
            splitSectionNeedMembers: 'Add members with a percentage to unlock the balances.',
            splitSectionNeedPercentages: 'Set at least one percentage to calculate the balance.',
            splitNetGive: 'Needs to pay',
            splitNetReceive: 'Will receive',
            splitShareLabel: ({value}: { value: number }) => `Share ${value.toFixed(2)}%`,
            splitSettlementsTitle: 'Optimized reimbursements',
            splitSettlementsEmpty: 'No reimbursements are needed for now.',
            splitSettlement: ({from, to, amount}: {
                from: string;
                to: string;
                amount: string
            }) => `${from} → ${to}: ${amount}`,
            splitOptimizedHint: 'Balances are optimized to minimize the number of transfers.',
        },
        expenses: {
            newExpense: 'New Expense',
            titleLabel: 'Title',
            titlePlaceholder: 'E.g. Dinner, fuel...',
            amountLabel: 'Amount',
            notesLabel: 'Notes (optional)',
            notesPlaceholder: 'Add any additional details...',
            addReceiptCamera: 'Take Photo',
            addReceiptGallery: 'Choose Photo',
            receiptLabel: 'Receipt Photo (optional)',
            createButton: 'Create Expense',
            cancelButton: 'Cancel',
            titleRequired: 'Title is required',
            amountRequired: 'Amount must be greater than 0',
            dateLabel: 'Expense date',
            dateHelper: 'Tap to pick the date or use the shortcuts below.',
            dateToday: 'Today',
            dateYesterday: 'Yesterday',
            dateDaysAgo: ({days}: { days: number }) => `${days} days ago`,
            payerLabel: 'Paid by',
            payerPlaceholder: 'Select a member',
            payerHelper: 'Select the member who actually paid the bill.',
            payerRequired: 'Please choose who paid',
            missingMembersHelper: 'Invite at least one member to log a payment.',
            paymentMethodLabel: 'Payment method',
            paymentMethodHelper: 'Teammates can see how you paid for transparency.',
            paymentMethods: {
                card: 'Card',
                cash: 'Cash',
                transfer: 'Bank transfer',
                other: 'Other',
            },
            beneficiariesLabel: 'Who is this expense for?',
            beneficiariesPlaceholder: 'Select the people covered by this payment',
            beneficiariesHelper: 'Only selected members will share the cost of this expense.',
            beneficiariesRequired: 'Select at least one member.',
            beneficiariesAll: 'All members',
            beneficiariesCount: ({count}: { count: number }) => `${count} members`,
            selectAll: 'Select all',
            createdSuccess: 'Expense created successfully',
            updatedSuccess: 'Expense updated successfully',
            saveChanges: 'Save changes',
            editTitle: 'Edit expense',
            paidBy: ({name}: { name: string }) => `Paid by ${name}`,
            spentOn: ({date}: { date: string }) => `Spent on ${date}`,
            insertedOn: ({date}: { date: string }) => `Inserted on ${date}`,
            permissionPhotos: 'Please allow access to your photos',
            permissionCamera: 'Please allow access to your camera',
            receiptAdded: 'Receipt added',
            receiptOnFile: 'Receipt already uploaded',
            status: {
                draft: 'Draft',
                submitted: 'Awaiting approval',
                validated: 'Approved',
                rejected: 'Rejected',
            },
            pendingValidation: 'Waiting for validators',
            detailsTitle: 'Expense details',
            details: 'Details',
            paidByLabel: 'Paid by',
            openReceipt: 'Open receipt',
            deleteTitle: 'Delete expense',
            deleteBody: ({title}: { title: string }) => `Delete "${title}"?`,
            deleteConfirm: 'Delete',
            deleteAction: 'Delete',
            editAction: 'Edit',
            deleteSuccess: 'Expense deleted',
            deleteError: 'Unable to delete the expense. Try again.',
        },
        members: {
            title: 'Add Member',
            emailLabel: 'Email',
            displayNameLabel: 'Display name (optional)',
            displayNamePlaceholder: 'E.g. Luca - Room 3',
            displayNameHint: 'Shown everywhere in the list. Leave it empty to use the email.',
            splitLabel: 'Split %',
            validatorLabel: 'Is validator',
            submit: 'Invite member',
            successTitle: 'Member invited',
            successBody: 'The member received the invitation.',
            emailRequired: 'Email is required',
            splitRequired: 'Split must be between 0 and 100',
            validatorHint: 'Validators can approve expenses',
            splitInfo: 'Percentages can be edited later by an administrator.',
            validatorBadge: 'Validator',
            editTitle: 'Manage member',
            splitValue: ({value}: { value: number }) => `Split: ${value.toFixed(2)}%`,
            readOnlyNotice: 'All members can view this section. Only admins can edit it.',
            autoBalanceHint: ({remaining, recipients, share}: {
                remaining: number;
                recipients: number;
                share: number
            }) => `The remaining ${remaining.toFixed(2)}% will be split evenly (${share.toFixed(2)}%) across ${recipients} other members.`,
            editSubmit: 'Save changes',
            editSuccess: 'Member updated successfully',
            removeButton: 'Remove member',
            removeTitle: 'Remove member',
            removeBody: ({email}: { email: string }) => `Remove ${email} from this list?`,
            removeConfirm: 'Remove',
            removeSuccess: 'Member removed',
            statusLabel: 'Status',
            statusHint: 'Only administrators can change this field.',
            statusActive: 'Active',
            statusPending: 'Pending',
            statusActiveShort: 'Active',
            statusPendingShort: 'Pending',
            statusLegendTitle: 'Member legend',
            statusLegendActive: 'Active members have joined the list and get real-time updates.',
            statusLegendPending: 'Pending invitations are highlighted until the member accepts the invite.',
            pendingExplanation: 'The yellow dot means the member has not accepted the invite yet.',
            unknown: 'Unknown member',
        },
        settings: {
            title: 'Settings',
            languageLabel: 'Language',
            english: 'English',
            italian: 'Italian',
            languageDescription: 'Choose the language used across the application.',
            themeLabel: 'Theme',
            themeDescription: 'Customize the look & feel of the app.',
            themeLight: 'Light',
            themeDark: 'Dark',
            themeSystem: 'Match system',
            notificationsTitle: 'Notifications',
            notificationsDescription: 'Choose which push notifications you want to receive.',
            pushLimitationTitle: 'Push unavailable on this build',
            pushLimitation: {
                'expo-go': 'Expo Go removed remote push notifications starting with SDK 53. Create a development build to keep receiving alerts.',
                web: 'Push notifications are disabled when the app runs inside a browser.',
            },
            pushLimitationCta: 'Open the setup guide',
            notifyNewExpense: 'New expense',
            notifyNewExpenseDescription: 'Alerts you whenever someone adds an expense in your lists.',
            notifyExpenseDeleted: 'Expense deleted',
            notifyExpenseDeletedDescription: 'Get a push alert as soon as an expense gets removed.',
            notifyMemberAdded: 'Member invited',
            notifyMemberAddedDescription: 'Get notified when the team grows.',
            notifyValidationRequest: 'Validation request',
            notifyValidationRequestDescription: 'Keeps validators in sync whenever an approval is required.',
            notifyValidationResult: 'Validation result',
            notifyValidationResultDescription: 'Sends a confirmation as soon as your expense is approved or rejected.',
            notifyReimbursement: 'Reimbursements',
            notifyReimbursementDescription: 'Alerts you when you have to send or receive a reimbursement.',
            accountTitle: 'Account',
            logoutTitle: 'Sign out?',
            logoutDescription: 'Logging out clears tokens from this device.',
            logoutButton: 'Log out',
            logoutConfirm: 'Sign out',
        },
        auth: {
            title: 'Split Expenses',
            subtitle: 'Share expenses with friends and family',
            emailPlaceholder: 'Email',
            passwordPlaceholder: 'Password',
            signIn: 'Sign In',
            signUp: 'Sign Up',
            toggleToSignUp: "Don't have an account? Sign Up",
            toggleToSignIn: 'Already have an account? Sign In',
            missingFields: 'Please enter email and password',
            signUpSuccess: 'Account created successfully!',
            terms: 'By continuing, you agree to our Terms of Service and Privacy Policy',
        },
        languageSelection: {
            title: 'Choose your language',
            subtitle: 'Pick the language you prefer before continuing.',
            englishDescription: 'Menus and content will be displayed in English.',
            italianDescription: 'Interfaccia e contenuti verranno mostrati in italiano.',
            footer: 'You can change this later from Settings.',
        },
        analytics: {
            title: 'Insights',
            subtitle: 'Track your spending trends at a glance.',
            filterCustom: 'Custom',
            listPickerLabel: 'Choose a list',
            listPickerAll: 'All lists',
            listPickerHelper: 'Select a list to unlock member distribution and settlement insights.',
            listPickerSelected: ({name}: { name: string }) => `Showing insights for ${name}.`,
            listPickerFallback: 'this list',
            listPickerDropdownPlaceholder: 'Choose a list',
            listPickerDropdownEmpty: 'You are not part of any list yet.',
            listInsightsPlaceholderTitle: 'Need list-level insights?',
            listPickerApplyCustom: 'Apply a custom range to analyze this list.',
            listInsightsLoading: 'Loading list insights...',
            summaryTitle: 'Summary',
            total: 'Period total',
            averageDaily: 'Daily average',
            topDay: ({date, amount}: { date: string; amount: string }) => `Peak day ${date} (${amount})`,
            rangeAll: 'All time',
            rangeBetween: ({from, to}: { from: string; to: string }) => `${from} → ${to}`,
            customTitle: 'Set a custom period',
            customFrom: 'From (YYYY-MM-DD)',
            customTo: 'To (YYYY-MM-DD)',
            customApply: 'Apply range',
            customError: 'Enter valid dates (YYYY-MM-DD) with the start before the end.',
            empty: 'No expenses available for this range.',
            byList: 'Spent by list',
            memberBreakdownTitle: 'Spent by member',
            memberChartEmpty: 'Add expenses to compare members in this list.',
            memberChartModesTitle: 'Dynamic visualizations',
            chartModeHelper: 'Switch between different chart types to highlight contributions.',
            chartModeBar: 'Bars',
            chartModePie: 'Pie',
            chartModeTrend: 'Trend',
            memberTrendEmpty: 'We need a few expenses to plot the trend for this list.',
        },
        notifications: {
            unsupportedTitle: 'Push notifications unavailable',
            unsupported: {
                'expo-go': 'Expo Go no longer supports remote push notifications. Install a development build to restore alerts.',
                web: 'Push notifications are not available from the browser.',
            },
        },
    },
    it: {
        common: {
            ok: 'OK',
            cancel: 'Annulla',
            close: 'Chiudi',
            confirm: 'Conferma',
            error: 'Errore',
            success: 'Successo',
            genericError: 'Qualcosa è andato storto. Riprova.',
            pullToRefresh: 'Trascina per aggiornare',
            settings: 'Impostazioni',
            language: 'Lingua',
            comingSoon: 'Prossimamente',
            retry: 'Riprova',
        },
        navigation: {
            lists: 'Liste',
            analytics: 'Insights',
            settings: 'Impostazioni',
        },
        lists: {
            myLists: 'Le mie liste',
            createList: 'Crea lista',
            details: 'Dettagli lista',
            createListTitle: 'Crea una nuova lista',
            createListSubtitle: 'Dai un nome al tuo gruppo di spesa.',
            nameLabel: 'Nome lista',
            namePlaceholder: 'Es. Weekend, Casa, ecc.',
            nameRequired: 'Il nome della lista è obbligatorio',
            createSuccess: 'Lista creata correttamente',
            createError: 'Impossibile creare la lista. Riprova.',
            expensesTab: ({count}: { count: number }) => `Spese (${count})`,
            membersTab: ({count}: { count: number }) => `Membri (${count})`,
            invite: 'Condividi invito',
            inviteDescription: ({code}: { code: string }) => `Condividi questo codice per unirti: ${code}`,
            emptyExpenses: 'Ancora nessuna spesa',
            emptyMembers: 'Ancora nessun membro',
            addExpense: 'Aggiungi spesa',
            addMember: 'Aggiungi membro',
            summaryTitle: 'Riepilogo spese',
            totalSpent: 'Totale speso',
            perMember: 'Spesa per membro',
            filterLabel: 'Intervallo',
            filterAll: 'Tutte',
            filter7: '7g',
            filter30: '30g',
            filter90: '90g',
            chartEmpty: 'Aggiungi spese per visualizzare il grafico.',
            emptyTitle: 'Ancora nessuna lista',
            emptySubtitle: 'Crea la tua prima lista o unisciti a una esistente',
            onboardingTitle: 'Parti con il piede giusto',
            onboardingSubtitle: 'Segui la checklist smart per invitare il gruppo e caricare la prima spesa.',
            onboardingHelper: 'Ogni azione sblocca il suggerimento successivo.',
            onboardingStepCreateTitle: 'Crea la tua prima lista',
            onboardingStepCreateDescription: 'Dai un nome al gruppo che condividerà le spese.',
            onboardingStepCreateAction: 'Crea una lista',
            onboardingStepInviteTitle: 'Invita i membri',
            onboardingStepInviteDescription: 'Condividi link o codice invito con chi partecipa.',
            onboardingStepInviteAction: 'Apri inviti',
            onboardingStepInviteHint: 'Si attiva appena crei una lista.',
            onboardingStepExpenseTitle: 'Aggiungi la prima spesa',
            onboardingStepExpenseDescription: 'Registra un pagamento per popolare grafici e saldi.',
            onboardingStepExpenseAction: 'Aggiungi una spesa',
            onboardingStepExpenseHint: 'Serve almeno una lista attiva.',
            deleteTitle: 'Elimina lista',
            deleteBody: ({name}: { name: string }) => `Eliminare davvero "${name}"?`,
            deleteSuccess: 'Lista eliminata con successo',
            deleteError: 'Impossibile eliminare la lista. Riprova.',
            joinTitle: 'Unisciti a una lista',
            joinDescription: 'Inserisci il codice invito ricevuto per entrare subito.',
            joinPlaceholder: 'Codice invito (es. ABC123)',
            joinHelper: 'Il codice non fa distinzione tra maiuscole e minuscole.',
            joinSubmit: 'Unisciti',
            joinSuccess: 'Invito accettato! Ora puoi accedere alla lista.',
            joinError: 'Impossibile unirsi alla lista. Controlla il codice e riprova.',
            acceptSuccess: 'Invito accettato! Ora puoi accedere alla lista.',
            acceptError: 'Non riesco a confermare il tuo invito. Chiedi all’admin di reinviare il link.',
            joinCodeRequired: 'Il codice invito è obbligatorio.',
            inviteShareError: 'Non riesco ad aprire WhatsApp. Copia il codice manualmente.',
            inviteFallbackTitle: 'Condividi il codice',
            inviteFallbackBody: ({code}: { code: string }) => `Codice da inviare su WhatsApp: ${code}`,
            splitSectionTitle: 'Ripartizione spese',
            splitSectionEmpty: 'Non ci sono spese da ripartire.',
            splitSectionNeedMembers: 'Aggiungi membri con una percentuale per calcolare i saldi.',
            splitSectionNeedPercentages: 'Configura almeno una percentuale per calcolare i saldi.',
            splitNetGive: 'Deve versare',
            splitNetReceive: 'Riceverà',
            splitShareLabel: ({value}: { value: number }) => `Quota ${value.toFixed(2)}%`,
            splitSettlementsTitle: 'Rimborsi ottimizzati',
            splitSettlementsEmpty: 'Nessun rimborso necessario al momento.',
            splitSettlement: ({from, to, amount}: {
                from: string;
                to: string;
                amount: string
            }) => `${from} → ${to}: ${amount}`,
            splitOptimizedHint: 'I flussi sono ottimizzati per ridurre al minimo i passaggi.',
        },
        expenses: {
            newExpense: 'Nuova spesa',
            titleLabel: 'Titolo',
            titlePlaceholder: 'Es. Cena, benzina...',
            amountLabel: 'Importo',
            notesLabel: 'Note (opzionali)',
            notesPlaceholder: 'Aggiungi dettagli aggiuntivi...',
            addReceiptCamera: 'Scatta foto',
            addReceiptGallery: 'Scegli foto',
            receiptLabel: 'Foto ricevuta (opzionale)',
            createButton: 'Crea spesa',
            cancelButton: 'Annulla',
            titleRequired: 'Il titolo è obbligatorio',
            amountRequired: "L'importo deve essere maggiore di 0",
            dateLabel: 'Data della spesa',
            dateHelper: 'Tocca il campo o usa le scorciatoie per cambiare la data.',
            dateToday: 'Oggi',
            dateYesterday: 'Ieri',
            dateDaysAgo: ({days}: { days: number }) => `${days} giorni fa`,
            payerLabel: 'Ha pagato',
            payerPlaceholder: 'Seleziona un membro',
            payerHelper: 'Indica il membro che ha pagato la spesa.',
            payerRequired: 'Seleziona chi ha pagato',
            missingMembersHelper: 'Invita almeno un membro per registrare la spesa.',
            paymentMethodLabel: 'Metodo di pagamento',
            paymentMethodHelper: 'Mostra agli altri come hai pagato la spesa.',
            paymentMethods: {
                card: 'Carta',
                cash: 'Contanti',
                transfer: 'Bonifico',
                other: 'Altro',
            },
            beneficiariesLabel: 'Per chi è questa spesa?',
            beneficiariesPlaceholder: 'Seleziona i membri coinvolti',
            beneficiariesHelper: 'Solo i membri selezionati parteciperanno alla ripartizione.',
            beneficiariesRequired: 'Seleziona almeno un membro.',
            beneficiariesAll: 'Tutti i membri',
            beneficiariesCount: ({count}: { count: number }) => `${count} membri`,
            selectAll: 'Seleziona tutti',
            createdSuccess: 'Spesa creata con successo',
            updatedSuccess: 'Spesa aggiornata con successo',
            saveChanges: 'Salva modifiche',
            editTitle: 'Modifica spesa',
            paidBy: ({name}: { name: string }) => `Pagata da ${name}`,
            spentOn: ({date}: { date: string }) => `Spesa del ${date}`,
            insertedOn: ({date}: { date: string }) => `Inserita il ${date}`,
            permissionPhotos: 'Consenti accesso alla galleria per continuare',
            permissionCamera: 'Consenti accesso alla fotocamera per continuare',
            receiptAdded: 'Ricevuta aggiunta',
            receiptOnFile: 'Ricevuta già caricata',
            status: {
                draft: 'Bozza',
                submitted: 'In attesa',
                validated: 'Approvata',
                rejected: 'Rifiutata',
            },
            pendingValidation: 'In attesa dei validatori',
            detailsTitle: 'Dettaglio spesa',
            details: 'Dettagli',
            paidByLabel: 'Pagata da',
            openReceipt: 'Apri ricevuta',
            deleteTitle: 'Eliminare la spesa?',
            deleteBody: ({title}: { title: string }) => `Eliminare "${title}"?`,
            deleteConfirm: 'Elimina',
            deleteAction: 'Elimina',
            editAction: 'Modifica',
            deleteSuccess: 'Spesa eliminata',
            deleteError: 'Impossibile eliminare la spesa. Riprova.',
        },
        members: {
            title: 'Aggiungi membro',
            emailLabel: 'Email',
            displayNameLabel: 'Nome visualizzato (opzionale)',
            displayNamePlaceholder: 'Es. Luca - Camera 3',
            displayNameHint: 'Comparirà in tutta la lista. Lascia vuoto per usare l’email.',
            splitLabel: 'Percentuale',
            validatorLabel: 'È validatore',
            submit: 'Invita membro',
            successTitle: 'Invito inviato',
            successBody: "Il membro ha ricevuto l'invito.",
            emailRequired: "L'email è obbligatoria",
            splitRequired: 'La percentuale deve essere tra 0 e 100',
            validatorHint: 'I validatori possono approvare le spese',
            splitInfo: 'Le percentuali possono essere modificate in seguito da un amministratore.',
            validatorBadge: 'Validatore',
            editTitle: 'Gestisci membro',
            splitValue: ({value}: { value: number }) => `Percentuale: ${value.toFixed(2)}%`,
            readOnlyNotice: 'Tutti possono vedere questa sezione. Solo gli admin possono modificarla.',
            autoBalanceHint: ({remaining, recipients, share}: {
                remaining: number;
                recipients: number;
                share: number
            }) => `Il ${remaining.toFixed(2)}% rimanente verrà diviso in parti uguali (${share.toFixed(2)}%) tra ${recipients} altri membri.`,
            editSubmit: 'Salva modifiche',
            editSuccess: 'Membro aggiornato correttamente',
            removeButton: 'Rimuovi membro',
            removeTitle: 'Rimuovi membro',
            removeBody: ({email}: { email: string }) => `Vuoi rimuovere ${email} dalla lista?`,
            removeConfirm: 'Rimuovi',
            removeSuccess: 'Membro rimosso',
            statusLabel: 'Stato',
            statusHint: "Solo l'amministratore può modificare questo campo.",
            statusActive: 'Attivo',
            statusPending: 'In attesa',
            statusActiveShort: 'Attivo',
            statusPendingShort: 'In attesa',
            statusLegendTitle: 'Legenda stato membri',
            statusLegendActive: 'I membri attivi hanno già accettato e ricevono tutte le notifiche.',
            statusLegendPending: 'Gli inviti in attesa restano evidenziati finché non vengono accettati.',
            pendingExplanation: 'Il pallino giallo indica che il membro deve ancora accettare l’invito.',
            unknown: 'Membro sconosciuto',
        },
        settings: {
            title: 'Impostazioni',
            languageLabel: 'Lingua',
            english: 'Inglese',
            italian: 'Italiano',
            languageDescription: "Scegli la lingua utilizzata nell'app.",
            themeLabel: 'Tema',
            themeDescription: "Personalizza l'aspetto dell'app.",
            themeLight: 'Chiaro',
            themeDark: 'Scuro',
            themeSystem: 'Come il sistema',
            notificationsTitle: 'Notifiche',
            notificationsDescription: 'Scegli quali notifiche push ricevere.',
            pushLimitationTitle: 'Push non disponibile qui',
            pushLimitation: {
                'expo-go': 'Expo Go ha rimosso il supporto alle push remote da SDK 53. Crea una development build per continuare a ricevere avvisi.',
                web: 'Le notifiche push non funzionano dal browser.',
            },
            pushLimitationCta: 'Apri la guida',
            notifyNewExpense: 'Nuova spesa',
            notifyNewExpenseDescription: 'Ti avvisa quando qualcuno aggiunge una spesa nelle tue liste.',
            notifyExpenseDeleted: 'Spesa eliminata',
            notifyExpenseDeletedDescription: 'Ricevi un alert quando qualcuno cancella una spesa.',
            notifyMemberAdded: 'Nuovo membro',
            notifyMemberAddedDescription: 'Ricevi un alert quando il gruppo si allarga.',
            notifyValidationRequest: 'Richiesta di validazione',
            notifyValidationRequestDescription: 'Ideale per i validatori: notifica ogni approvazione da gestire.',
            notifyValidationResult: 'Esito validazione',
            notifyValidationResultDescription: 'Ti avvisa appena la tua spesa viene approvata o rifiutata.',
            notifyReimbursement: 'Rimborsi',
            notifyReimbursementDescription: 'Ti ricorda quando devi inviare o ricevere un rimborso.',
            accountTitle: 'Account',
            logoutTitle: 'Disconnettersi?',
            logoutDescription: 'La disconnessione rimuove i token da questo dispositivo.',
            logoutButton: 'Esci',
            logoutConfirm: 'Esci',
        },
        auth: {
            title: 'Split Expenses',
            subtitle: 'Condividi le spese con amici e famiglia',
            emailPlaceholder: 'Email',
            passwordPlaceholder: 'Password',
            signIn: 'Accedi',
            signUp: 'Registrati',
            toggleToSignUp: "Non hai un account? Registrati",
            toggleToSignIn: 'Hai già un account? Accedi',
            missingFields: 'Inserisci email e password',
            signUpSuccess: 'Account creato con successo!',
            terms: "Continuando accetti i Termini di servizio e l'Informativa sulla privacy",
        },
        languageSelection: {
            title: 'Seleziona la lingua',
            subtitle: 'Scegli la lingua che preferisci prima di iniziare.',
            englishDescription: 'Menu e contenuti verranno mostrati in inglese.',
            italianDescription: 'L\'interfaccia sarà tradotta completamente in italiano.',
            footer: 'Potrai cambiarla in qualsiasi momento dalle Impostazioni.',
        },
        analytics: {
            title: 'Insights',
            subtitle: 'Monitora l’andamento delle tue spese in un colpo d’occhio.',
            filterCustom: 'Personalizzato',
            listPickerLabel: 'Scegli una lista',
            listPickerAll: 'Tutte le liste',
            listPickerHelper: 'Seleziona una lista per vedere la distribuzione per membro e i rimborsi.',
            listPickerSelected: ({name}: { name: string }) => `Stai analizzando ${name}.`,
            listPickerFallback: 'questa lista',
            listPickerDropdownPlaceholder: 'Scegli una lista',
            listPickerDropdownEmpty: 'Non fai ancora parte di nessuna lista.',
            listInsightsPlaceholderTitle: 'Vuoi approfondire una lista?',
            listPickerApplyCustom: 'Applica un intervallo personalizzato per caricare questa lista.',
            listInsightsLoading: 'Carico gli insights della lista...',
            summaryTitle: 'Riepilogo',
            total: 'Totale periodo',
            averageDaily: 'Media giornaliera',
            topDay: ({date, amount}: { date: string; amount: string }) => `Giorno più caro ${date} (${amount})`,
            rangeAll: 'Tutto',
            rangeBetween: ({from, to}: { from: string; to: string }) => `${from} → ${to}`,
            customTitle: 'Imposta un periodo personalizzato',
            customFrom: 'Dal (AAAA-MM-GG)',
            customTo: 'Al (AAAA-MM-GG)',
            customApply: 'Applica periodo',
            customError: 'Inserisci date valide (AAAA-MM-GG) con inizio precedente alla fine.',
            empty: 'Nessuna spesa per questo intervallo.',
            byList: 'Spesa per lista',
            memberBreakdownTitle: 'Spesa per membro',
            memberChartEmpty: 'Aggiungi spese per confrontare i membri in questa lista.',
            memberChartModesTitle: 'Grafici dinamici',
            chartModeHelper: 'Passa da un grafico all’altro per mettere in evidenza le differenze.',
            chartModeBar: 'Barre',
            chartModePie: 'Torta',
            chartModeTrend: 'Trend',
            memberTrendEmpty: 'Servono più spese per disegnare questo grafico.',
        },
        notifications: {
            unsupportedTitle: 'Push non disponibili',
            unsupported: {
                'expo-go': 'Expo Go non supporta più le notifiche push remote. Installa una development build per riattivarle.',
                web: 'Le notifiche push non funzionano dal browser.',
            },
        },
    },
};

export const availableLanguages: { code: Language; labelKey: string }[] = [
    {code: 'en', labelKey: 'settings.english'},
    {code: 'it', labelKey: 'settings.italian'},
];

const FALLBACK_LANGUAGE: Language = 'en';

const traverse = (language: Language, key: string): any => {
    const segments = key.split('.');
    let current: any = translations[language as Language];

    for (const segment of segments) {
        if (typeof current !== 'object' || current === null) {
            return undefined;
        }
        current = current[segment];
        if (current === undefined) return undefined;
    }
    return current;
};

export const translate = (language: Language, key: string, params?: Record<string, any>): string => {
    const raw = traverse(language, key) ?? traverse(FALLBACK_LANGUAGE, key);

    if (typeof raw === 'function') {
        return raw(params ?? {});
    }

    if (typeof raw !== 'string') {
        return key;
    }

    if (!params) {
        return raw;
    }

    return Object.keys(params).reduce((acc, paramKey) => {
        const value = params[paramKey];
        return acc.replace(new RegExp(`{{${paramKey}}}`, 'g'), String(value));
    }, raw);
};
